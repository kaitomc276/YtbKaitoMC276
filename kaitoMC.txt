--// UI Đơn giản khi farm
local gui = Instance.new("ScreenGui", game.Players.LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "KaitoUI"
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 100)
frame.Position = UDim2.new(0.5, -150, 0.05, 0)
frame.BackgroundTransparency = 1
local image = Instance.new("ImageLabel", frame)
image.Size = UDim2.new(0, 100, 0, 100)
image.Position = UDim2.new(0, 0, 0, 0)
image.BackgroundTransparency = 1
image.Image = "rbxassetid://137349437844122"
local text = Instance.new("TextLabel", frame)
text.Size = UDim2.new(1, -100, 1, 0)
text.Position = UDim2.new(0, 100, 0, 0)
text.Text = "Đang Farm Level..."
text.TextColor3 = Color3.fromRGB(255, 255, 255)
text.BackgroundTransparency = 1
text.TextScaled = true

--// Auto nhập code x2 EXP
local codes = {
    "kittgaming", "Sub2Fer999", "Enyu_is_Pro", "Magicbus", "JCWK", "Starcodeheo",
    "Bluxxy", "Sub2CaptainMaui", "StrawHatMaine", "SUB2NOOBMASTER123",
    "Axiore", "TantaiGaming", "Sub2Daigrock", "BIGNEWS", "TheGreatAce",
    "FUDD10", "FUDD10_V2", "Sub2UncleKizaru"
}
for _, code in pairs(codes) do
    pcall(function()
        game:GetService("ReplicatedStorage").Remotes.Redeem:InvokeServer(code)
    end)
end

--// Auto mua Buso và Vỏ Vua Haki
spawn(function()
    while wait(5) do
        local char = game.Players.LocalPlayer.Character
        if not char:FindFirstChild("HasBuso") then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyHaki")
        end
        if not char:FindFirstChild("Aura") then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Black Cape")
        end
    end
end)

--// Auto nâng điểm (ưu tiên Melee và Energy)
spawn(function()
    while wait(10) do
        local stats = game.Players.LocalPlayer.Data.Stats
        local p = stats.Available.Value
        if p > 0 then
            local half = math.floor(p / 2)
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Melee", half)
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Energy", p - half)
        end
    end
end)


--// PHẦN 2


-- Phần 2: Tiếp tục các chức năng nâng cao (Elite, Katakuri, Rip Indra, lấy Yama, v.v.)

--// Auto đánh Katakuri V1 và V2, Rip Indra nếu có
spawn(function()
    while wait(10) do
        for _, boss in pairs({"Cake Prince", "Cocoa Warrior", "rip_indra"}) do
            for _, v in pairs(workspace.Enemies:GetChildren()) do
                if string.find(v.Name:lower(), boss:lower()) and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                    repeat
                        pcall(function()
                            local hrp = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                            if hrp and v and v:FindFirstChild("HumanoidRootPart") then
                                hrp.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 25, 0)
                                for _ = 1, 3 do
                                    game:GetService("VirtualInputManager"):SendMouseButtonEvent(0, 0, 0, true, game, 0)
                                    wait(0.03)
                                    game:GetService("VirtualInputManager"):SendMouseButtonEvent(0, 0, 0, false, game, 0)
                                end
                            end
                        end)
                        wait(0.03)
                    until v.Humanoid.Health <= 0 or not v.Parent
                end
            end
        end
    end
end)

--// Auto lấy Yama (cần đã đủ điều kiện)
spawn(function()
    while wait(15) do
        if game.PlaceId == 7449423635 then -- Sea 3
            pcall(function()
                local args = {
                    [1] = "Yama",
                    [2] = "Check",
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                wait(2)
                local args2 = {
                    [1] = "Yama",
                    [2] = "Get",
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args2))
            end)
        end
    end
end)

--// Auto mua Tam Kiếm Huyền Thoại nếu đủ tiền
spawn(function()
    while wait(15) do
        local beli = game.Players.LocalPlayer.Data.Beli.Value
        if beli >= 2000000 then
            pcall(function()
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "True Triple Katana")
            end)
        end
    end
end)

--// Auto random trái và cất vào kho
spawn(function()
    while wait(600) do -- 10 phút/lần
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Cousin", "Buy")
            wait(1)
            for _, item in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                if item:IsA("Tool") and item:FindFirstChild("Fruit") then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StoreFruit", item.Name)
                end
            end
        end)
    end
end)
